<%- include('components/modal.ejs', { user, currentWorkspace }) %>
<% if(error) {%>
<div class="app-error-container">
    <div class="app-error">
        <%= error %>
    </div>
</div>
<%}%>
<div id="workspace">
    <h1>Workspace</h1>
    <div class="search-bar-container">
        <form method="get">
            <input placeholder="Pesquise no workspace" name="q" class="input-main" autocomplete="off">
        </form>
    </div>
    <div class="workspace-section">
        <div class="workspace-section-title">
            <h2>Pastas compartilhadas</h2>
            <button onclick="modal('new-folder')" class="action-button">
                <span class="material-symbols-outlined">
                    add
                </span> <!-- + -->

                Criar uma pasta</button>
        </div>
    </div>
    <div class="folders-container">
        <%  if(workspaceFolders.length > 0) { 
                for(var folderIndex in workspaceFolders){ %>
        <% var folder = workspaceFolders[folderIndex]; %>
        <%- include('components/folder/folder-component.ejs', { folderIndex, folder }) %>
        <% } } else { %>
        <p class="none-feedback">Nenhuma pasta criada <span class="darkmode-ignore">ðŸ˜”</span> </p>
        <% } %>
    </div>

    <div class="workspace-section">
        <div class="workspace-section-title">
            <h2>Contatos diretos</h2>
            <button onclick="modal('new-contact')" class="action-button">
                <span class="material-symbols-outlined">
                    add
                </span> <!-- + -->

                Adicionar um contato</button>
        </div>
        <div class="contacts-container">
            <% for(contact of contacts){ %>
            <%- include('components/contacts/direct-contact-profile.ejs', { contact }) %>
            <% } %>
            <% if (contacts.length === 0) { %>
            <p class="none-feedback">Nenhum contato adicionado <span class="darkmode-ignore">ðŸ˜”</span></p>
            <% } %>
        </div>
    </div>
</div>